
    <a id="inicio" href='/' ><h1>Skate Park</h1></a>

    <div class="py-4">
      <h2>Registro</h2>
      <hr class="w-50" />

      <form id="form" method="POST" action="/skaters"  enctype="multipart/form-data">
        <div class="form-group row w-50 m-auto">
          <div class="form-group col-12 col-sm-6">
            <label>Email</label>
            <input id="email" name="email" class="form-control m-auto" type="email" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Nombre</label>
            <input id='nombre' name='nombre' class="form-control m-auto" type="text"/>
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Password</label>
            <input id='password' name='password' class="form-control m-auto" type="password" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Repita la password</label>
            <input id='password2' class="form-control m-auto" type="password" />
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Años de experiencia</label>
            <input id="experiencia"name='anos_experiencia'class="form-control m-auto" type="number"/>
          </div>
          <div class="form-group col-12 col-sm-6">
            <label>Especialidad</label>
            <input id="especialidad" name='especialidad'class="form-control m-auto" type="text"/>
          </div>
          <div class="form-group col-12 col-sm-12">
            <label>Foto de perfil</label>
            <input type="file" id="foto" name="foto" required  />
          </div>
        </div>
        <button type='submit'class="btn btn-info mb-3">Registrarme</button>
        <p><a href="/login"> Iniciar sesión</a></p>
      </form>
    </div>

<script>
 document.querySelector('#form').addEventListener('submit',async (e)=>{
e.preventDefault();

let pass=document.getElementById('password').value
let pass2=document.getElementById('password2').value
let variables=0
let inputs=document.querySelectorAll('input')
inputs.forEach((el)=>{
  !el.value?variables++:false;
})

if(variables!==2){
        
  return await Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Complete todos los campos para registrarse!',
            footer: '<a href="/">Volver a pantalla principal?</a>'
          })
}else if(pass!==pass2){
  return await Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Las contraseñas no coinciden',
            footer: '<a href="/">Volver a pantalla principal?</a>'
          })
}
 form.submit()
 await Swal.fire({
        position: 'top-end',
        icon: 'success',
        title: 'Usuario registrado con éxito',
        showConfirmButton: false,
        timer: 1500
      })
       window.location.href="/"
 })
 document.querySelector('button').addEventListener('click',async (e)=>{
  await Swal.fire({
        position: 'top-end',
        icon: 'success',
        title: 'Usuario registrado con éxito',
        showConfirmButton: true,
        timer: 2000
      })
 })
 
</script>
